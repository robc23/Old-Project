{"ast":null,"code":"var _jsxFileName = \"/Users/robert_castro/their-3d-library-robertc-team/src/App.js\",\n  _s = $RefreshSig$();\n/**\n * This React app serves as a very thin “wrapper” around what is otherwise pure three.js code.\n * Although various “React three.js components” are available, these can get complicated and\n * possibly overly opinionated for beginners. We take the approach here of separating React and\n * three.js code from each other as much as possible.\n */\nimport { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { createDemoUniverse } from './universes/demo-universe';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_FIELD_OF_VIEW = 100;\nconst DEFAULT_NEAR_PLANE = 0.1;\nconst DEFAULT_FAR_PLANE = 2000;\nconst DEFAULT_DISTANCE_FROM_ORIGIN = 5;\nconst RADIAN_CONVERSION = Math.PI / 180;\nconst App = () => {\n  _s();\n  const [universe, setUniverse] = useState(null);\n  const [cameraControl, setCameraControl] = useState(false);\n  const viewport = useRef();\n  useEffect(() => {\n    const viewportElement = viewport === null || viewport === void 0 ? void 0 : viewport.current;\n    if (!viewportElement) {\n      return;\n    }\n    const universe = createDemoUniverse({\n      fieldOfView: DEFAULT_FIELD_OF_VIEW,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      nearPlane: DEFAULT_NEAR_PLANE,\n      farPlane: DEFAULT_FAR_PLANE\n    });\n    const {\n      camera,\n      renderer\n    } = universe;\n    camera.position.z = DEFAULT_DISTANCE_FROM_ORIGIN;\n\n    // Development note: three.js does not know that React exists. It is thus necessary to add\n    // three.js’s element manually. However, this also means that the usual auto-loading behavior\n    // of a React app may result in multiple copies of this element: because the previous element\n    // isn’t under React’s control, it may continue to sit there even after the app’s code has\n    // changed. As a result, always try to _reload the page_ if the 3D viewport does not seem to\n    // update as expected.\n    //\n    // In addition, if the React portion of the app gets overly complicated, the rendering cycle\n    // may start to interfere with this manual addition. Use this playground for applications that\n    // are primarily three.js code, with React providing just basic event handling and UI.\n    viewportElement.innerHTML = ''; // Cheapo clearing of prior children.\n    viewportElement.appendChild(renderer.domElement);\n    universe.animate();\n    setUniverse(universe);\n  }, [viewport]);\n  const handleFlex = event => {\n    universe.cast.garnet.flex();\n  };\n  const handleReset = event => {\n    universe.cast.garnet.reset();\n    universe.cast.peridot.reset();\n  };\n  const handleMouseDown = event => {\n    setCameraControl(true);\n  };\n  const handleMouseMove = event => {\n    if (!cameraControl || !universe) {\n      return;\n    }\n    const {\n      camera\n    } = universe;\n    camera.translateZ(-DEFAULT_DISTANCE_FROM_ORIGIN);\n    camera.rotateY(event.movementX * RADIAN_CONVERSION);\n    camera.rotateX(event.movementY * RADIAN_CONVERSION);\n    camera.translateZ(DEFAULT_DISTANCE_FROM_ORIGIN);\n  };\n  const handleMouseUp = event => {\n    setCameraControl(false);\n  };\n  const handleTurn = event => {\n    universe.turn();\n  };\n  const handleStop = event => {\n    universe.stop();\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      ref: viewport,\n      onMouseDown: handleMouseDown,\n      onMouseMove: handleMouseMove,\n      onMouseUp: handleMouseUp\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !universe,\n          onClick: handleFlex,\n          children: \"Flex\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !universe,\n          onClick: handleReset,\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !universe,\n          onClick: handleTurn,\n          children: \"Turn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !universe,\n          onClick: handleStop,\n          children: \"Stop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"JkFXMqnLh44D+tSlj/i8Q2GUnz4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","useRef","createDemoUniverse","DEFAULT_FIELD_OF_VIEW","DEFAULT_NEAR_PLANE","DEFAULT_FAR_PLANE","DEFAULT_DISTANCE_FROM_ORIGIN","RADIAN_CONVERSION","Math","PI","App","universe","setUniverse","cameraControl","setCameraControl","viewport","viewportElement","current","fieldOfView","width","window","innerWidth","height","innerHeight","nearPlane","farPlane","camera","renderer","position","z","innerHTML","appendChild","domElement","animate","handleFlex","event","cast","garnet","flex","handleReset","reset","peridot","handleMouseDown","handleMouseMove","translateZ","rotateY","movementX","rotateX","movementY","handleMouseUp","handleTurn","turn","handleStop","stop"],"sources":["/Users/robert_castro/their-3d-library-robertc-team/src/App.js"],"sourcesContent":["/**\n * This React app serves as a very thin “wrapper” around what is otherwise pure three.js code.\n * Although various “React three.js components” are available, these can get complicated and\n * possibly overly opinionated for beginners. We take the approach here of separating React and\n * three.js code from each other as much as possible.\n */\nimport { useState, useEffect, useRef } from 'react'\n\nimport './App.css'\n\nimport { createDemoUniverse } from './universes/demo-universe'\n\nconst DEFAULT_FIELD_OF_VIEW = 100\nconst DEFAULT_NEAR_PLANE = 0.1\nconst DEFAULT_FAR_PLANE = 2000\n\nconst DEFAULT_DISTANCE_FROM_ORIGIN = 5\n\nconst RADIAN_CONVERSION = Math.PI / 180\n\nconst App = () => {\n  const [universe, setUniverse] = useState(null)\n  const [cameraControl, setCameraControl] = useState(false)\n\n  const viewport = useRef()\n\n  useEffect(() => {\n    const viewportElement = viewport?.current\n    if (!viewportElement) {\n      return\n    }\n\n    const universe = createDemoUniverse({\n      fieldOfView: DEFAULT_FIELD_OF_VIEW,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      nearPlane: DEFAULT_NEAR_PLANE,\n      farPlane: DEFAULT_FAR_PLANE\n    })\n\n    const { camera, renderer } = universe\n    camera.position.z = DEFAULT_DISTANCE_FROM_ORIGIN\n\n    // Development note: three.js does not know that React exists. It is thus necessary to add\n    // three.js’s element manually. However, this also means that the usual auto-loading behavior\n    // of a React app may result in multiple copies of this element: because the previous element\n    // isn’t under React’s control, it may continue to sit there even after the app’s code has\n    // changed. As a result, always try to _reload the page_ if the 3D viewport does not seem to\n    // update as expected.\n    //\n    // In addition, if the React portion of the app gets overly complicated, the rendering cycle\n    // may start to interfere with this manual addition. Use this playground for applications that\n    // are primarily three.js code, with React providing just basic event handling and UI.\n    viewportElement.innerHTML = '' // Cheapo clearing of prior children.\n    viewportElement.appendChild(renderer.domElement)\n\n    universe.animate()\n    setUniverse(universe)\n  }, [viewport])\n\n  const handleFlex = event => {\n    universe.cast.garnet.flex()\n  }\n\n  const handleReset = event => {\n    universe.cast.garnet.reset()\n    universe.cast.peridot.reset()\n  }\n\n  const handleMouseDown = event => {\n    setCameraControl(true)\n  }\n\n  const handleMouseMove = event => {\n    if (!cameraControl || !universe) {\n      return\n    }\n\n    const { camera } = universe\n    camera.translateZ(-DEFAULT_DISTANCE_FROM_ORIGIN)\n    camera.rotateY(event.movementX * RADIAN_CONVERSION)\n    camera.rotateX(event.movementY * RADIAN_CONVERSION)\n    camera.translateZ(DEFAULT_DISTANCE_FROM_ORIGIN)\n  }\n\n  const handleMouseUp = event => {\n    setCameraControl(false)\n  }\n\n  const handleTurn = event => {\n    universe.turn()\n  }\n\n  const handleStop = event => {\n    universe.stop()\n  }\n\n  return (\n    <section className=\"App\">\n      <header></header>\n      <main ref={viewport} onMouseDown={handleMouseDown} onMouseMove={handleMouseMove} onMouseUp={handleMouseUp}></main>\n      <footer>\n        <section>\n          <button disabled={!universe} onClick={handleFlex}>\n            Flex\n          </button>\n\n          <button disabled={!universe} onClick={handleReset}>\n            Reset\n          </button>\n        </section>\n\n        <section>\n          <button disabled={!universe} onClick={handleTurn}>\n            Turn\n          </button>\n\n          <button disabled={!universe} onClick={handleStop}>\n            Stop\n          </button>\n        </section>\n      </footer>\n    </section>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}